CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
CREATE TABLE AUTHENTICATION (ID INTEGER NOT NULL, LIMITDATE LONGVARBINARY, SESSIONID VARCHAR(255), USER_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE USER (ID INTEGER NOT NULL, EMAIL VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), NATIONALIDENTITY VARCHAR(255), PASSWORD VARCHAR(255), JOB_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE NOTIFICATION (ID INTEGER NOT NULL, DESCRIPTION VARCHAR(255), NOTIFICATIONTYPE INTEGER, HIREE_ID INTEGER, HIRER_ID INTEGER, JOB_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE JOB (ID INTEGER NOT NULL, AMOUNTPERHOUR REAL, DESCRIPTION VARCHAR(255), TITLE VARCHAR(255), ACCEPTEDHIREE_ID INTEGER, HIRER_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE USER_JOB (User_ID INTEGER NOT NULL, jobs_ID INTEGER NOT NULL, PRIMARY KEY (User_ID, jobs_ID))
CREATE TABLE USER_NOTIFICATION (User_ID INTEGER NOT NULL, notifications_ID INTEGER NOT NULL, PRIMARY KEY (User_ID, notifications_ID))
CREATE TABLE JOB_USER (Job_ID INTEGER NOT NULL, hirees_ID INTEGER NOT NULL, PRIMARY KEY (Job_ID, hirees_ID))
ALTER TABLE AUTHENTICATION ADD CONSTRAINT FK_AUTHENTICATION_USER_ID FOREIGN KEY (USER_ID) REFERENCES USER (ID)
ALTER TABLE USER ADD CONSTRAINT FK_USER_JOB_ID FOREIGN KEY (JOB_ID) REFERENCES JOB (ID)
ALTER TABLE NOTIFICATION ADD CONSTRAINT FK_NOTIFICATION_HIRER_ID FOREIGN KEY (HIRER_ID) REFERENCES USER (ID)
ALTER TABLE NOTIFICATION ADD CONSTRAINT FK_NOTIFICATION_HIREE_ID FOREIGN KEY (HIREE_ID) REFERENCES USER (ID)
ALTER TABLE NOTIFICATION ADD CONSTRAINT FK_NOTIFICATION_JOB_ID FOREIGN KEY (JOB_ID) REFERENCES JOB (ID)
ALTER TABLE JOB ADD CONSTRAINT FK_JOB_HIRER_ID FOREIGN KEY (HIRER_ID) REFERENCES USER (ID)
ALTER TABLE JOB ADD CONSTRAINT FK_JOB_ACCEPTEDHIREE_ID FOREIGN KEY (ACCEPTEDHIREE_ID) REFERENCES USER (ID)
ALTER TABLE USER_JOB ADD CONSTRAINT FK_USER_JOB_jobs_ID FOREIGN KEY (jobs_ID) REFERENCES JOB (ID)
ALTER TABLE USER_JOB ADD CONSTRAINT FK_USER_JOB_User_ID FOREIGN KEY (User_ID) REFERENCES USER (ID)
ALTER TABLE USER_NOTIFICATION ADD CONSTRAINT FK_USER_NOTIFICATION_notifications_ID FOREIGN KEY (notifications_ID) REFERENCES NOTIFICATION (ID)
ALTER TABLE USER_NOTIFICATION ADD CONSTRAINT FK_USER_NOTIFICATION_User_ID FOREIGN KEY (User_ID) REFERENCES USER (ID)
ALTER TABLE JOB_USER ADD CONSTRAINT FK_JOB_USER_hirees_ID FOREIGN KEY (hirees_ID) REFERENCES USER (ID)
ALTER TABLE JOB_USER ADD CONSTRAINT FK_JOB_USER_Job_ID FOREIGN KEY (Job_ID) REFERENCES JOB (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT NUMERIC(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE VALUES('SEQ_GEN',0)
SET AUTOCOMMIT FALSE
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
INSERT INTO SEQUENCE VALUES('SEQ_GEN',50)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO USER VALUES(1,'pedro.alvares@gmail.com','Fabricio','Somini','35735737','1234',NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO AUTHENTICATION VALUES(2,NULL,'307154a3a7358795f5d0e9ac2797',1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM AUTHENTICATION WHERE ID=2
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO USER VALUES(3,'igor.loriov@gmail.com','Igor','Loriov','42643262','1234',NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO AUTHENTICATION VALUES(4,NULL,'307154a3a7358795f5d0e9ac2797',3)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM AUTHENTICATION WHERE ID=4
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO USER VALUES(5,'samira.close@gmail.com','samira','close','46848484','1234',NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO AUTHENTICATION VALUES(6,NULL,'307154a3a7358795f5d0e9ac2797',5)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM AUTHENTICATION WHERE ID=6
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO USER VALUES(7,'mateus.icarius@gmail.com','Mateus','Icarius','43262624','1234',NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO AUTHENTICATION VALUES(8,NULL,'307154a3a7358795f5d0e9ac2797',7)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM AUTHENTICATION WHERE ID=8
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO AUTHENTICATION VALUES(9,NULL,'307154a3a7358795f5d0e9ac2797',7)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM AUTHENTICATION WHERE ID=9
COMMIT
SET AUTOCOMMIT TRUE
